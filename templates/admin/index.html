<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Panel Administrador</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="../../static/css/main.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

</head>

<body class="d-flex flex-column min-vh-100">

<nav class="navbar navbar-global d-flex justify-content-between align-items-center">
    <div class="d-flex align-items-center">
        <span class="brand-icon">üõ°Ô∏è</span>
        <span class="brand-text">Panel Administrador</span>
    </div>

    <button class="btn-logout" onclick="cerrarSesion()">Cerrar sesi√≥n</button>
</nav>

<div class="container mt-4 mb-5">

    <div class="text-center mb-4">
        <h2 class="fw-bold">Dashboard General</h2>
        <p class="text-muted">Resumen general del estado de monitoreo</p>
    </div>

    <!-- M√âTRICAS GLOBALES -->
    <div class="row g-4">

        <div class="col-md-4">
            <div class="metric-card text-center">
                <p class="text-muted mb-1 fw-semibold">Estudiantes Monitoreados</p>
                <h2 class="text-primary fw-bold" id="totalEstudiantes">--</h2>
            </div>
        </div>

        <div class="col-md-4">
            <div class="metric-card text-center">
                <p class="text-muted mb-1 fw-semibold">Fatiga Inicial Promedio</p>
                <h2 class="text-warning fw-bold" id="fatigaInicialProm">--%</h2>
            </div>
        </div>

        <div class="col-md-4">
            <div class="metric-card text-center">
                <p class="text-muted mb-1 fw-semibold">Reducci√≥n Promedio</p>
                <h2 class="text-success fw-bold" id="reduccionProm">--%</h2>
            </div>
        </div>

    </div>

    <!-- GR√ÅFICOS -->
    <div class="row g-4 mt-3">

        <div class="col-md-6">
            <div class="dashboard-box">
                <h5 class="fw-bold mb-3">Fatiga Inicial vs Final</h5>
                <canvas id="graficoFatiga"></canvas>
            </div>
        </div>

        <div class="col-md-6">
            <div class="dashboard-box">
                <h5 class="fw-bold mb-3">M√©tricas Visuales</h5>
                <canvas id="graficoRadar"></canvas>
            </div>
        </div>

    </div>

    <!-- TABLA GENERAL -->
    <div class="dashboard-box mt-4">
        <h4 class="fw-bold mb-3">Historial de Usuarios</h4>

        <div class="table-responsive">
            <table class="table table-hover align-middle text-center">
                <thead class="table-light">
                    <tr>
                        <th>Estudiante</th>
                        <th>Fecha</th>
                        <th>Fatiga Inicial</th>
                        <th>Fatiga Final</th>
                        <th>Reducci√≥n</th>
                        <th>Detalle</th>
                    </tr>
                </thead>

                <tbody id="tablaUsuarios"></tbody>
            </table>
        </div>
    </div>

</div>

<footer class="mt-auto text-center py-3" style="background:#ffffff55;">
    ¬© 2025 - Sistema de Monitoreo de Fatiga Visual
</footer>

<script src="../../static/js/session.js"></script>
<script src="../../static/js/admin.js"></script>

</body>
</html>
